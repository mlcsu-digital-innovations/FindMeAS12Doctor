<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-label class="examination-view-last-updated">
          Last Updated: {{examinationLastUpdated | date: "dd/MM/yyyy HH:mm:ss"}}
        </ion-label>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label><strong>Referral Id:</strong> {{examinationView?.referralId}}</ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label><strong>Patient Id:</strong> {{examinationView?.patientIdentifier}}</ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label>{{examinationView?.dateTime | date: "d MMMM yyyy H:mm"}}</ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label>
            <strong>Exam Speciality: </strong> 
            <ion-text class="ion-text-wrap">{{examinationView?.specialityName}}</ion-text>
          </ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item class="item item-text-wrap">
          <ion-label>
            {{examinationView?.address1}}
            <br *ngIf="examinationView?.address1?.length > 0" />
            {{examinationView?.address2}}
            <br *ngIf="examinationView?.address2?.length > 0" />
            {{examinationView?.address3}}
            <br *ngIf="examinationView?.address3?.length > 0" />             
            {{examinationView?.address4}}
            <br *ngIf="examinationView?.address4?.length > 0" />
            {{examinationView?.postcode}}
          </ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label>
            <ion-text *ngFor="let doctor of examinationView?.doctorsAllocated">
              {{doctor.displayName}}<br />
            </ion-text>
          </ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item class="item item-text-wrap">
          {{examinationView?.meetingArrangementComment}}
        </ion-item>
      </ion-col>
    </ion-row>    

    <ion-row>
      <ion-col>
        <ion-button 
          *ngIf="examinationView 
            && examinationView.isSuccessful===null 
            && examinationView.doctorsAllocated
            && examinationView.doctorsAllocated.length > 0"
          expand="block" 
          color="warning" 
          (click)="this.updateExamination()">
          Update status
        </ion-button>
      </ion-col>
    </ion-row>

  </ion-grid>
</ion-content>